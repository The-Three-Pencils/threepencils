parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"z0xu":[function(require,module,exports) {
var global = arguments[3];
var define;
var o,e=arguments[3];!function(n){var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,t="object"==typeof module&&module&&!module.nodeType&&module,u="object"==typeof e&&e;u.global!==u&&u.window!==u&&u.self!==u||(n=u);var i,f,c=2147483647,l=36,s=1,p=26,a=38,d=700,h=72,v=128,g="-",w=/^xn--/,x=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-s,b=Math.floor,j=String.fromCharCode;function A(o){throw new RangeError(m[o])}function I(o,e){for(var n=o.length,r=[];n--;)r[n]=e(o[n]);return r}function E(o,e){var n=o.split("@"),r="";return n.length>1&&(r=n[0]+"@",o=n[1]),r+I((o=o.replace(y,".")).split("."),e).join(".")}function F(o){for(var e,n,r=[],t=0,u=o.length;t<u;)(e=o.charCodeAt(t++))>=55296&&e<=56319&&t<u?56320==(64512&(n=o.charCodeAt(t++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),t--):r.push(e);return r}function O(o){return I(o,function(o){var e="";return o>65535&&(e+=j((o-=65536)>>>10&1023|55296),o=56320|1023&o),e+=j(o)}).join("")}function S(o,e){return o+22+75*(o<26)-((0!=e)<<5)}function T(o,e,n){var r=0;for(o=n?b(o/d):o>>1,o+=b(o/e);o>C*p>>1;r+=l)o=b(o/C);return b(r+(C+1)*o/(o+a))}function L(o){var e,n,r,t,u,i,f,a,d,w,x,y=[],m=o.length,C=0,j=v,I=h;for((n=o.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)o.charCodeAt(r)>=128&&A("not-basic"),y.push(o.charCodeAt(r));for(t=n>0?n+1:0;t<m;){for(u=C,i=1,f=l;t>=m&&A("invalid-input"),((a=(x=o.charCodeAt(t++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:l)>=l||a>b((c-C)/i))&&A("overflow"),C+=a*i,!(a<(d=f<=I?s:f>=I+p?p:f-I));f+=l)i>b(c/(w=l-d))&&A("overflow"),i*=w;I=T(C-u,e=y.length+1,0==u),b(C/e)>c-j&&A("overflow"),j+=b(C/e),C%=e,y.splice(C++,0,j)}return O(y)}function M(o){var e,n,r,t,u,i,f,a,d,w,x,y,m,C,I,E=[];for(y=(o=F(o)).length,e=v,n=0,u=h,i=0;i<y;++i)(x=o[i])<128&&E.push(j(x));for(r=t=E.length,t&&E.push(g);r<y;){for(f=c,i=0;i<y;++i)(x=o[i])>=e&&x<f&&(f=x);for(f-e>b((c-n)/(m=r+1))&&A("overflow"),n+=(f-e)*m,e=f,i=0;i<y;++i)if((x=o[i])<e&&++n>c&&A("overflow"),x==e){for(a=n,d=l;!(a<(w=d<=u?s:d>=u+p?p:d-u));d+=l)I=a-w,C=l-w,E.push(j(S(w+I%C,0))),a=b(I/C);E.push(j(S(a,0))),u=T(n,m,r==t),n=0,++r}++n,++e}return E.join("")}if(i={version:"1.4.1",ucs2:{decode:F,encode:O},decode:L,encode:M,toASCII:function(o){return E(o,function(o){return x.test(o)?"xn--"+M(o):o})},toUnicode:function(o){return E(o,function(o){return w.test(o)?L(o.slice(4).toLowerCase()):o})}},"function"==typeof o&&"object"==typeof o.amd&&o.amd)o("punycode",function(){return i});else if(r&&t)if(module.exports==r)t.exports=i;else for(f in i)i.hasOwnProperty(f)&&(r[f]=i[f]);else n.punycode=i}(this);
},{}],"XvGG":[function(require,module,exports) {
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}],"nKBU":[function(require,module,exports) {
"use strict";function r(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(t,n,o,a){n=n||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var p=/\+/g;t=t.split(n);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var i=0;i<c;++i){var y,l,f,v,b=t[i].replace(p,"%20"),d=b.indexOf(o);d>=0?(y=b.substr(0,d),l=b.substr(d+1)):(y=b,l=""),f=decodeURIComponent(y),v=decodeURIComponent(l),r(s,f)?e(s[f])?s[f].push(v):s[f]=[s[f],v]:s[f]=v}return s};var e=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],"sZzK":[function(require,module,exports) {
"use strict";var n=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};module.exports=function(o,u,c,a){return u=u||"&",c=c||"=",null===o&&(o=void 0),"object"==typeof o?r(t(o),function(t){var a=encodeURIComponent(n(t))+c;return e(o[t])?r(o[t],function(e){return a+encodeURIComponent(n(e))}).join(u):a+encodeURIComponent(n(o[t]))}).join(u):a?encodeURIComponent(n(a))+c+encodeURIComponent(n(o)):""};var e=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function r(n,e){if(n.map)return n.map(e);for(var r=[],t=0;t<n.length;t++)r.push(e(n[t],t));return r}var t=Object.keys||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.push(r);return e};
},{}],"pjDS":[function(require,module,exports) {
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":"nKBU","./encode":"sZzK"}],"Jb61":[function(require,module,exports) {
"use strict";var t=require("punycode"),s=require("./util");function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=b,exports.resolve=O,exports.resolveObject=d,exports.format=q,exports.Url=h;var e=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r","\n","\t"],n=["{","}","|","\\","^","`"].concat(o),i=["'"].concat(n),l=["%","/","?",";","#"].concat(i),p=["/","?","#"],c=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=require("querystring");function b(t,e,a){if(t&&s.isObject(t)&&t instanceof h)return t;var r=new h;return r.parse(t,e,a),r}function q(t){return s.isString(t)&&(t=b(t)),t instanceof h?t.format():h.prototype.format.call(t)}function O(t,s){return b(t,!1,!0).resolve(s)}function d(t,s){return t?b(t,!1,!0).resolveObject(s):s}h.prototype.parse=function(h,a,o){if(!s.isString(h))throw new TypeError("Parameter 'url' must be a string, not "+typeof h);var n=h.indexOf("?"),b=-1!==n&&n<h.indexOf("#")?"?":"#",q=h.split(b);q[0]=q[0].replace(/\\/g,"/");var O=h=q.join(b);if(O=O.trim(),!o&&1===h.split("#").length){var d=r.exec(O);if(d)return this.path=O,this.href=O,this.pathname=d[1],d[2]?(this.search=d[2],this.query=a?y.parse(this.search.substr(1)):this.search.substr(1)):a&&(this.search="",this.query={}),this}var j=e.exec(O);if(j){var x=(j=j[0]).toLowerCase();this.protocol=x,O=O.substr(j.length)}if(o||j||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===O.substr(0,2);!A||j&&v[j]||(O=O.substr(2),this.slashes=!0)}if(!v[j]&&(A||j&&!g[j])){for(var C,I,w=-1,U=0;U<p.length;U++){-1!==(k=O.indexOf(p[U]))&&(-1===w||k<w)&&(w=k)}-1!==(I=-1===w?O.lastIndexOf("@"):O.lastIndexOf("@",w))&&(C=O.slice(0,I),O=O.slice(I+1),this.auth=decodeURIComponent(C)),w=-1;for(U=0;U<l.length;U++){var k;-1!==(k=O.indexOf(l[U]))&&(-1===w||k<w)&&(w=k)}-1===w&&(w=O.length),this.host=O.slice(0,w),O=O.slice(w),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var R=this.hostname.split(/\./),S=(U=0,R.length);U<S;U++){var $=R[U];if($&&!$.match(u)){for(var z="",H=0,L=$.length;H<L;H++)$.charCodeAt(H)>127?z+="x":z+=$[H];if(!z.match(u)){var Z=R.slice(0,U),_=R.slice(U+1),E=$.match(f);E&&(Z.push(E[1]),_.unshift(E[2])),_.length&&(O="/"+_.join(".")+O),this.hostname=Z.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=t.toASCII(this.hostname));var P=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+P,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!m[x])for(U=0,S=i.length;U<S;U++){var B=i[U];if(-1!==O.indexOf(B)){var D=encodeURIComponent(B);D===B&&(D=escape(B)),O=O.split(B).join(D)}}var F=O.indexOf("#");-1!==F&&(this.hash=O.substr(F),O=O.slice(0,F));var G=O.indexOf("?");if(-1!==G?(this.search=O.substr(G),this.query=O.substr(G+1),a&&(this.query=y.parse(this.query)),O=O.slice(0,G)):a&&(this.search="",this.query={}),O&&(this.pathname=O),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var J=this.search||"";this.path=P+J}return this.href=this.format(),this},h.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var h=this.protocol||"",e=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var n=this.search||o&&"?"+o||"";return h&&":"!==h.substr(-1)&&(h+=":"),this.slashes||(!h||g[h])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),n&&"?"!==n.charAt(0)&&(n="?"+n),h+r+(e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(n=n.replace("#","%23"))+a},h.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},h.prototype.resolveObject=function(t){if(s.isString(t)){var e=new h;e.parse(t,!1,!0),t=e}for(var a=new h,r=Object.keys(this),o=0;o<r.length;o++){var n=r[o];a[n]=this[n]}if(a.hash=t.hash,""===t.href)return a.href=a.format(),a;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),l=0;l<i.length;l++){var p=i[l];"protocol"!==p&&(a[p]=t[p])}return g[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(t.protocol&&t.protocol!==a.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u];a[f]=t[f]}return a.href=a.format(),a}if(a.protocol=t.protocol,t.host||v[t.protocol])a.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),a.pathname=m.join("/")}if(a.search=t.search,a.query=t.query,a.host=t.host||"",a.auth=t.auth,a.hostname=t.hostname||t.host,a.port=t.port,a.pathname||a.search){var y=a.pathname||"",b=a.search||"";a.path=y+b}return a.slashes=a.slashes||t.slashes,a.href=a.format(),a}var q=a.pathname&&"/"===a.pathname.charAt(0),O=t.host||t.pathname&&"/"===t.pathname.charAt(0),d=O||q||a.host&&t.pathname,j=d,x=a.pathname&&a.pathname.split("/")||[],A=(m=t.pathname&&t.pathname.split("/")||[],a.protocol&&!g[a.protocol]);if(A&&(a.hostname="",a.port=null,a.host&&(""===x[0]?x[0]=a.host:x.unshift(a.host)),a.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),d=d&&(""===m[0]||""===x[0])),O)a.host=t.host||""===t.host?t.host:a.host,a.hostname=t.hostname||""===t.hostname?t.hostname:a.hostname,a.search=t.search,a.query=t.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),a.search=t.search,a.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(A)a.hostname=a.host=x.shift(),(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift());return a.search=t.search,a.query=t.query,s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!x.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var C=x.slice(-1)[0],I=(a.host||t.host||x.length>1)&&("."===C||".."===C)||""===C,w=0,U=x.length;U>=0;U--)"."===(C=x[U])?x.splice(U,1):".."===C?(x.splice(U,1),w++):w&&(x.splice(U,1),w--);if(!d&&!j)for(;w--;w)x.unshift("..");!d||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),I&&"/"!==x.join("/").substr(-1)&&x.push("");var k,N=""===x[0]||x[0]&&"/"===x[0].charAt(0);A&&(a.hostname=a.host=N?"":x.length?x.shift():"",(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift()));return(d=d||a.host&&x.length)&&!N&&x.unshift(""),x.length?a.pathname=x.join("/"):(a.pathname=null,a.path=null),s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=t.auth||a.auth,a.slashes=a.slashes||t.slashes,a.href=a.format(),a},h.prototype.parseHost=function(){var t=this.host,s=a.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"punycode":"z0xu","./util":"XvGG","querystring":"pjDS"}],"cRbN":[function(require,module,exports) {
function n(e,r){if(e&&r)return n(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){t[n]=e[n]}),t;function t(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var t=e.apply(this,n),o=n[n.length-1];return"function"==typeof t&&t!==o&&Object.keys(o).forEach(function(n){t[n]=o[n]}),t}}module.exports=n;
},{}],"KnG+":[function(require,module,exports) {
var e=require("wrappy");function r(e){var r=function(){return r.called?r.value:(r.called=!0,r.value=e.apply(this,arguments))};return r.called=!1,r}function n(e){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return r.onceError=n+" shouldn't be called more than once",r.called=!1,r}module.exports=e(r),module.exports.strict=e(n),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return n(this)},configurable:!0})});
},{"wrappy":"cRbN"}],"KEhq":[function(require,module,exports) {
module.exports=function(e,a){if("string"!=typeof e)throw new TypeError("Expected a string");for(var s,r=String(e),c="",f=!!a&&!!a.extended,i=!!a&&!!a.globstar,t=!1,n=a&&"string"==typeof a.flags?a.flags:"",o=0,g=r.length;o<g;o++)switch(s=r[o]){case"\\":case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":c+="\\"+s;break;case"?":if(f){c+=".";break}case"[":case"]":if(f){c+=s;break}case"{":if(f){t=!0,c+="(";break}case"}":if(f){t=!1,c+=")";break}case",":if(t){c+="|";break}c+="\\"+s;break;case"*":for(var b=r[o-1],d=1;"*"===r[o+1];)d++,o++;var k=r[o+1];if(i)d>1&&("/"===b||void 0===b)&&("/"===k||void 0===k)?(c+="(?:[^/]*(?:/|$))*",o++):c+="[^/]*";else c+=".*";break;default:c+=s}return n&&~n.indexOf("g")||(c="^"+c+"$"),new RegExp(c,n)};
},{}],"ut2s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scrollToElement=o,exports.asArray=exports.humanizeUrl=exports.parseUrl=exports.getCalculatedContainerWidth=exports.matchesPathname=exports.isTopicPage=exports.replaceClass=void 0;var e=r(require("once")),t=r(require("glob-to-regexp"));function r(e){return e&&e.__esModule?e:{default:e}}function o(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{duration:300},n=$(t);n.length<1||$("html, body").animate({scrollTop:n.offset().top},o.duration,(0,e.default)(r))}var n=function(e,t,r){return e.addClass(r).removeClass(t)};exports.replaceClass=n;var a=function(e){return null!==/^\/topics\/[^\/]*[\/]?$/gi.exec(e)};exports.isTopicPage=a;var s=function(e,r){return(0,t.default)(e).test(r)},u=function(e){return function(t){return"*"===t||s(t,e)}};exports.matchesPathname=u;var i=function(e){return e.children().toArray().reduce(function(e,t){return e+$(t).outerWidth()},0)};exports.getCalculatedContainerWidth=i;var c=function(e){var t=document.createElement("a");return t.href=e,{protocol:t.protocol,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,hash:t.hash,host:t.host,domain:function(){var e=this.hostname.split(".");return e.length>2&&e.shift(),e[0]}}};exports.parseUrl=c;var l=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},p=function(e){return e.replace(/(\/|\-)/g," ").substr(1).split(" ").map(l).join(" ")};exports.humanizeUrl=p;var h=function(e){return void 0===e?[]:[].concat(e)};exports.asArray=h;
},{"once":"KnG+","glob-to-regexp":"KEhq"}],"ahqq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("url")),t=require("../utils.es6");function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var a=function(){function n(e){if(r(this,n),!e)throw new Error("Selector is required to create a Segment tracker");try{$(e)}catch(t){throw new Error("Invalid selector given to Segment tracker: ".concat(e))}this._selector=e,this._event=void 0,this._name=void 0,this._properties={},this._email="",this._path="*",this._once=!1,this._ignore=function(){return!1},this._custom=void 0}return o(n,[{key:"properties",value:function(e){return void 0===e?this._properties:(this._properties=e,this)}},{key:"emailForContext",value:function(e){return void 0===e?this._email:(this._email=e,this)}},{key:"contextFromDOMElement",value:function(e){if(void 0===e)throw new Error("A DOM element is required to build context from an element for a Segment Tracker");return"function"==typeof this._email?{traits:{email:this._email(e)}}:{}}},{key:"propertiesFromDOMElement",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";if(void 0===t)throw new Error("A DOM element is required to build properties from an element for a Segment Tracker");var i=e.default.parse(r);return"function"==typeof this._properties?this._properties(t,i):Object.keys(this._properties||{}).reduce(function(e,r){var o=e;return"function"==typeof n._properties[r]?o[r]=n._properties[r](t,i):o[r]=n._properties[r],o},{})}},{key:"name",value:function(){return this._name}},{key:"nameFromDOMElement",value:function(e){if(void 0===e)throw new Error("A DOM element is required to build a name from an element for a Segment Tracker");return"function"==typeof this._name?this._name(e):this._name}},{key:"on",value:function(e,t){if(!t)throw new Error("A name is required to add a ".concat(e," event to Segment tracker"));return this._event=e,this._name=t,this}},{key:"onClick",value:function(e){return this.on("click",e)}},{key:"onSubmit",value:function(e){return this.on("submit",e)}},{key:"onBlur",value:function(e){return this.on("blur",e)}},{key:"onKeyUp",value:function(e){return this.on("keyup",e)}},{key:"path",value:function(e){return void 0===e?this._path:(this._path=e,this)}},{key:"once",value:function(e){if(void 0===e)return this._once;if("boolean"!=typeof e)throw new Error("Value for once() must be a boolean for a Segment Tracker");return this._once=e,this}},{key:"ignore",value:function(e){if(void 0===e)return this._ignore.bind(this);if("function"!=typeof e)throw new Error("Ignoring a Segment tracker requires a function to determine");return this._ignore=e,this}},{key:"shouldIgnore",value:function(e){return this._ignore.call(this,e)}},{key:"toDOMElements",value:function(){return(0,t.asArray)(this._selector).map(function(e){return $(e)})}},{key:"hasDOMElements",value:function(){return this.toDOMElements().some(function(e){return e.length>0})}},{key:"matchesPathname",value:function(e){return(0,t.asArray)(this._path).some((0,t.matchesPathname)(e))}},{key:"_isDelegateable",value:function(e){return n.delegateableEvents.indexOf(e)>-1}},{key:"_attachElementEvent",value:function(e,t){$(t)[!0===this._once?"one":"on"]("".concat(this._event,".segment"),e(this))}},{key:"_attachDelegatedEvent",value:function(e,t){$("body")[!0===this._once?"one":"on"]("".concat(this._event,".segment"),t,e(this))}},{key:"_removeElementEvent",value:function(e){$(e).off("".concat(this._event,".segment"))}},{key:"_removeDelegatedEvent",value:function(e){$("body").off("".concat(this._event,".segment"),e)}},{key:"attachEventListeners",value:function(e){var n=this,r=this._isDelegateable(this._event)?this._attachDelegatedEvent.bind(this):this._attachElementEvent.bind(this);return(0,t.asArray)(this._selector).forEach(function(t){n.isCustom()?n._custom($(t)):r(e,t)}),this}},{key:"removeEventListeners",value:function(){var e=this._isDelegateable(this._event)?this._removeDelegatedEvent.bind(this):this._removeElementEvent.bind(this);return(0,t.asArray)(this._selector).forEach(e),this}},{key:"custom",value:function(e){return void 0===e?this._custom:(this._custom=e,this)}},{key:"isCustom",value:function(){return void 0!==this._custom}}]),n}();a.delegateableEvents=["click","submit"],a.create=function(e){return new a(e)},a.trigger=function(e,t){if(a.delegateableEvents.indexOf(t)<0)return $(e).trigger(t);var n=$("body"),r=$.Event(t),i=n.find(e);return r.target=i[0],n.trigger(r),i};var s=a;exports.default=s;
},{"url":"Jb61","../utils.es6":"ut2s"}],"8v2b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return e.push({start:new Date,end:null}),e},n=function(e){var n=e.pop();return n.end=new Date,e.push(n),e},t=function(e){return e.map(function(e){var n=e.start;return e.end-n}).reduce(function(e,n){return e+n},0)},i=function(){var e,n;return void 0!==document.hidden?(e="hidden",n="visibilitychange"):void 0!==document.msHidden?(e="msHidden",n="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",n="webkitvisibilitychange"),{hidden:e,visibilityChange:n}},d=function(){var d=i(),r=d.hidden,u=d.visibilityChange,o=e([]);document[r]&&(o=n(o));var c=function(){o=document[r]?n(o):e(o)};return document.addEventListener(u,c,!1),function(){return document.removeEventListener(u,c,!1),o=n(o),t(o)}},r=d;exports.default=r;
},{}],"UwUN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./segment_tracker.es6")),r=o(require("./active_timer.es6")),t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var n=function(o){var n=o.pagePathname,c=o.events,a=o.currentResource;if(void 0!==window.analytics){var s,u=void 0===(s=a)||0===Object.keys(s).length?{}:{"Resource ID":a["resource-id"],"Resource Date":a["resource-date"],"Resource Author":a["resource-authors"],"Resource Topic":a["resource-topics"],"Resource Type":a["resource-type"],"Resource Series":a["resource-series"],"Resource Collection":a["resource-collections"],"Resource Scripture":a["resource-scriptures"],"Resource Word Count":a["resource-word-count"]};window.analytics.page(t({path:n},u));var i=(0,r.default)();window.addEventListener("beforeunload",function(){window.analytics.track("Time On Page",t({time:Math.round(i()/1e3)},u))});var l=function(e){return function(r){var t=$(r.currentTarget);if(!e.shouldIgnore(t)){var o=e.nameFromDOMElement(t),c=e.propertiesFromDOMElement(t,n),a=e.contextFromDOMElement(t);window.analytics.track(o,c,a)}}};c.map(function(r){if(r instanceof e.default)return r;throw new Error("Only valid segment trackers are accepted")}).filter(function(e){return e.matchesPathname(n)&&e.hasDOMElements()}).map(function(e){return e.removeEventListeners(l),e}).forEach(function(e){e.attachEventListeners(l)})}},c=n;exports.default=c;
},{"./segment_tracker.es6":"ahqq","./active_timer.es6":"8v2b"}],"FgQV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractTopicFromTopicUrl=exports.appNameFromUrl=exports.platformNameFromUrl=void 0;var r=require("../utils.es6"),o=require("url"),e=function(r){return r.indexOf("itunes.apple.com")>-1?"iOS":"Android"};exports.platformNameFromUrl=e;var t=function(r){var o=function(o){return o.some(function(o){return r.indexOf(o)>-1})};return o(["app/ask-pastor-john","com.desiringgod.askpastorjohn"])?"Ask Pastor John":o(["app/john-piper-daily-devotional","com.desiringgod.solidjoys"])?"Solid Joys":"Sermons"};exports.appNameFromUrl=t;var i=function(e){var t=o.parse(e).pathname,i=/^\/topics(.*)$/gi.exec(t);return(0,r.humanizeUrl)(i[1])};exports.extractTopicFromTopicUrl=i;
},{"../utils.es6":"ut2s","url":"Jb61"}],"2Whu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t){return(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||function(){return!1}).call(e,t)},t=function t(r,o){var c=r.parentNode;if(e(c,o))return c;for(var n=r;n=n.previousSibling;)if(e(n,o))return n;return t(c,o)},r=function(){throw new Error("Closest.after() needs to be implemented")},o={matches:e,before:t,after:r};exports.default=o;
},{}],"NpvE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../utils.es6"),r=require("./helpers.es6"),t=c(require("../../shared/element_closest.es6")),o=c(require("./segment_tracker.es6"));function c(e){return e&&e.__esModule?e:{default:e}}var s=o.default.create,a=[s("[data-segment=header-search-trigger]").onClick(function(){var e=$("body").hasClass("ix-universal-search");return"Search Icon ".concat(e?"Close":"Open"," Click")}),s("[data-segment=header-search-submit]").onSubmit("Search Submit").properties(function(e){return{"Search Text":e.find("[type=search]").val()}}),s("[data-segment=homepage-email-form-submit]").onSubmit("Homepage Email Form Submit").path("/"),s("[data-segment=homepage-more-click]").onClick("Homepage More Click"),s("[data-segment=homepage-more-of-newest-click]").onClick("Homepage More of Recent Click"),s("[data-segment=homepage-featured-resource-click]").onClick("Homepage Featured Resource Click").ignore(function(e){return!e.data().segmentMeta}).properties(function(e){var r=e.data().segmentMeta;return{"Resource ID":r["resource-id"],"Resource Type":r["resource-type"],"Resource Date":r["resource-date"],"Resource Author":r["resource-authors"],"Resource Topic":r["resource-topics"],"Resource Collection":r["resource-collections"],"Resource Scripture":r["resource-scriptures"],"Resource Series":r["resource-series"]}}),s("[data-segment=villain-and-sidekick-click]").onClick("Villain and Sidekick Click").ignore(function(e){return!e.data().segmentMeta}).properties(function(e){var r=e.data().segmentMeta;return{"Resource ID":r["resource-id"],"Resource Type":r["resource-type"],"Resource Date":r["resource-date"],"Resource Author":r["resource-authors"],"Resource Topic":r["resource-topics"],"Resource Collection":r["resource-collections"],"Resource Scripture":r["resource-scriptures"],"Resource Series":r["resource-series"]}}),s("[data-segment=book-click]").onClick("Book Click").ignore(function(e){return!e.data().segmentMeta}).properties(function(e){var r=e.data().segmentMeta;return{"Book Name":e.find(".book-shelf__title").children("strong").text(),"Book Subtitle":e.find(".book-shelf__title").children("span").text(),"Book Author":r["resource-authors"],"Resource ID":r["resource-id"],"Resource Type":r["resource-type"],"Resource Date":r["resource-date"],"Resource Author":r["resource-authors"],"Resource Topic":r["resource-topics"],"Resource Collection":r["resource-collections"],"Resource Scripture":r["resource-scriptures"],"Resource Series":r["resource-series"]}}).path("/books/all"),s("[data-segment=download-book-click]").onClick("Download Book Click").ignore(function(e){var r=$(".resource__title"),t=$(".resource__subtitle"),o=1!==r.length&&1!==t.length;return!e.data().segmentMeta||o}).properties(function(e){var r=$(".resource__title"),t=$(".resource__subtitle"),o=e.data().segmentMeta;return{"Book Name":r.text(),"Book Subtitle":t.text(),"Book Author":o["resource-authors"],"Resource ID":o["resource-id"],"Resource Type":o["resource-type"],"Resource Date":o["resource-date"],"Resource Author":o["resource-authors"],"Resource Topic":o["resource-topics"],"Resource Collection":o["resource-collections"],"Resource Scripture":o["resource-scriptures"],"Resource Series":o["resource-series"]}}).path("/books/**"),s("[data-segment=purchase-book-click]").onClick("Purchase Book Click").ignore(function(e){var r=$(".resource__title"),t=$(".resource__subtitle"),o=1!==r.length&&1!==t.length;return!e.data().segmentMeta||o}).properties(function(e){var r=$(".resource__title"),t=$(".resource__subtitle"),o=e.data().segmentMeta;return{"Book Name":r.text(),"Book Subtitle":t.text(),"Book Author":o["resource-authors"],"Resource ID":o["resource-id"],"Resource Type":o["resource-type"],"Resource Date":o["resource-date"],"Resource Author":o["resource-authors"],"Resource Topic":o["resource-topics"],"Resource Collection":o["resource-collections"],"Resource Scripture":o["resource-scriptures"],"Resource Series":o["resource-series"]}}).path("/books/**"),s("[data-segment=download-book-action-click]").custom(function(e){e.on("click.segment",function(r){var t=r.target.textContent,o=$(".resource__title"),c=$(".resource__subtitle"),s=e.data().segmentMeta;if(!(void 0===t||""===t||1!==o.length&&1!==c.length)){r.stopPropagation();var a={"Book Name":o.text(),"Book Subtitle":c.text(),"Book Action":t,"Resource ID":s["resource-id"],"Resource Type":s["resource-type"],"Resource Date":s["resource-date"],"Resource Author":s["resource-authors"],"Resource Topic":s["resource-topics"],"Resource Collection":s["resource-collections"],"Resource Scripture":s["resource-scriptures"],"Resource Series":s["resource-series"]};window.analytics.track("Download Book Action Click",a)}})}).path("/books/**"),s("[data-segment=purchase-book-outbound-click]").custom(function(e){e.on("click.segment",function(r){var t=r.target.textContent,o=e.data().segmentMeta;if(!(void 0===t||""===t)&&!!o){var c=$(".resource__title"),s=$(".resource__subtitle");if(1===c.length||1===s.length){r.stopPropagation();var a={"Book Name":c.text(),"Book Subtitle":s.text(),"Book Author":o["resource-authors"],"Resource ID":o["resource-id"],"Resource Type":o["resource-type"],"Resource Date":o["resource-date"],"Resource Author":o["resource-authors"],"Resource Topic":o["resource-topics"],"Resource Collection":o["resource-collections"],"Resource Scripture":o["resource-scriptures"],"Resource Series":o["resource-series"],"Outbound Name":t};window.analytics.track("Purchase Book Outbound Click",a)}}})}).path("/books/**"),s("[data-segment=more-resources-click]").onClick("More Resources Click").ignore(function(e){return!e.data().segmentMeta}).properties(function(e){var r=e.data().segmentMeta;return{"Resource ID":r["resource-id"],"Resource Type":r["resource-type"],"Resource Date":r["resource-date"],"Resource Author":r["resource-authors"],"Resource Topic":r["resource-topics"],"Resource Collection":r["resource-collections"],"Resource Scripture":r["resource-scriptures"],"Resource Series":r["resource-series"]}}),s("[data-segment-article-email-form-submit]").onSubmit("Article Email Form Submit").path("/articles/**"),s("[data-segment=dg-social-outbound] a").onClick("Desiring God Social Outbound Click").properties({"Social Channel Navigated To":function(r){return(0,e.parseUrl)(r.attr("href")).domain()}}),s("[data-segment=jp-social-outbound] a").onClick("John Piper Social Outbound Click").properties({"Social Channel Navigated To":function(r){return(0,e.parseUrl)(r.attr("href")).domain()}}),s("[data-segment=header-donate]").onClick("Donate Header Click"),s("[data-segment=footer-donate]").onClick("Donate Footer Click"),s("[data-segment=donate-submit]").onSubmit("Donate Submit"),s("[data-segment=content-browse] a").onClick("Browse Click").properties({"Page Navigated To":function(e){return e.attr("href").replace("/","")}}).path("/"),s("[data-segment=menu-drawer-trigger]").onClick(function(){var e=$("body").hasClass("ix-menu-drawer");return"Main Menu ".concat(e?"Close":"Open"," Click")}),s("[data-segment=main-menu-navigation] a").onClick("Main Menu Navigation Click").properties({"Page Navigated To":function(r){return(0,e.humanizeUrl)(r.attr("href"))}}),s("[data-segment=header-navigation] a").onClick("Header Navigation Click").properties(function(r){return{"Page Navigated To":"/"===r.attr("href")?"Home":(0,e.humanizeUrl)(r.attr("href"))}}),s("[data-segment=download-app] a").onClick("Download App Outbound Click").properties({"App Type":function(e){return(0,r.platformNameFromUrl)(e.attr("href"))},"App Name":function(e){return(0,r.appNameFromUrl)(e.attr("href"))}}),s("[data-segment=account] a").onClick("Account Click").properties({"Account Options Name":function(e){return e.text().toLowerCase()}}).path(["/donate","/donate/monthly"]),s("[data-segment=create-account-form]").onSubmit("Create an Account Form Submit").path(["/users/sign-up","/users"]),s("[data-segment=login-form]").onSubmit("Login Form Submit").path("/users/log-in"),s(".financial-accountability a").onClick("Financial Stewardship Click").ignore(function(e){return void 0===e.attr("href")}).properties({"Name of Link":function(e){return e.text()}}).path(["/donate","/donate/monthly"]),s("[data-segment=footer-email-updates-form]").onSubmit("Footer Email Updates Form Submit").ignore(function(e){return!e.find(".checkbox").data().segmentMeta}).properties(function(e){return e.find(".checkbox").toArray().reduce(function(e,r){var t=$(r),o=t.data().segmentMeta,c=t.find("input").is(":checked");return e[o]=c,e},{})}).emailForContext(function(e){return e.find("#email_address").val()}),s("[data-segment=apj-email-form]").onSubmit("APJ Email Form Submit").path("/ask-pastor-john"),s("[data-segment=previous-lab]").onClick("Previous Lab Click").properties({"Lab Date":function(e){return e.find("[data-segment-meta-resource-date]").data().segmentMetaResourceDate}}),s("[data-segment=next-lab]").onClick("Next Lab Click").properties({"Lab Date":function(e){return e.find("[data-segment-meta-resource-date]").data().segmentMetaResourceDate}}),s("[data-segment=other-topics]").onClick("CTP - Other Topics Click").path("/topics/**"),s("[data-segment=a-topical-survey] a").onClick("CTP - A Topical Survey Click").properties(function(r){return{"Name of Link":(0,e.humanizeUrl)(r.attr("href"))}}).path("/topics/**"),s("[data-segment=more-on-topic]").onClick("CTP - More on Topic Click").properties(function(e,t){return{"Name of Topic":(0,r.extractTopicFromTopicUrl)(t.pathname)}}).path("/topics/**"),s("[data-segment=related-topics] a").onClick("CTP - Related Topics Click").properties(function(e){return{"Name of Topic Clicked":(0,r.extractTopicFromTopicUrl)(e.attr("href"))}}).path("/topics/**"),s("[data-segment=view-more-on-this-topic]").onClick("CTP - View More on this Topic Click").properties(function(e,t){return{"CTP Topic Name":(0,r.extractTopicFromTopicUrl)(t.pathname)}}).path("/topics/**"),s("[data-segment-ctp-resource-click]").onClick("CTP - Resource Click").ignore(function(e){return!e.data().segmentMeta||!t.default.before(e[0],"h2")}).properties(function(e,o){var c=e.data().segmentMeta,s=t.default.before(e[0],"h2").firstChild.textContent;return{"CTP Topic Name":(0,r.extractTopicFromTopicUrl)(o.pathname),"CTP Heading":s,"Resource ID":c["resource-id"],"Resource Type":c["resource-type"],"Resource Date":c["resource-date"],"Resource Author":c["resource-authors"],"Resource Topic":c["resource-topics"],"Resource Collection":c["resource-collections"],"Resource Scripture":c["resource-scriptures"],"Resource Series":c["resource-series"]}}).path("/topics/**"),s("[data-segment=series-cta] a").onClick(function(e){var r=e.text();return"Series CTA - ".concat(r," Click")}).ignore(function(){return!window.dg||!window.dg.resource_metadata}).properties(function(){var e=window.dg.resource_metadata;return{"Resource ID":e["resource-id"],"Resource Type":e["resource-type"],"Resource Date":e["resource-date"],"Resource Author":e["resource-authors"],"Resource Topic":e["resource-topics"],"Resource Collection":e["resource-collections"],"Resource Scripture":e["resource-scriptures"],"Resource Series":e["resource-series"]}}),s("[data-segment=email-subscribe-form]").onSubmit("Email Form Submit").ignore(function(e){return!e.data().segmentDetail}).properties(function(e){var r=e.closest("[data-segment-context]");return{"Subscription Context":r?r.data().segmentContext:null,"Mailing List":e.data().segmentDetail}}),s("[data-segment-subscribe-page-email-form-submit]").onSubmit("Subscribe Page Email Form Submit").path("/subscribe"),s("[data-segment=subscribe-click]").onClick("Subscribe Click").properties(function(e){return{"Podcast Name":e.data().segmentMeta}}).path("/podcasts"),s("[data-segment=subscribe-outbound-click]").onClick("Subscribe Outbound Click").properties(function(e){return{"Podcast Link":e.data().segmentMeta}}).path(["/podcasts","/labs/**","/interviews/**"])],i=a;exports.default=i;
},{"../utils.es6":"ut2s","./helpers.es6":"FgQV","../../shared/element_closest.es6":"2Whu","./segment_tracker.es6":"ahqq"}],"Co2g":[function(require,module,exports) {
"use strict";var e=a(require("./javascript/modules/segment/start_tracking.es6")),t=a(require("./javascript/modules/segment/segment_events.es6"));function a(e){return e&&e.__esModule?e:{default:e}}window.dg=window.dg||{};var r=window.dg.resource_metadata||{},n=window.location.pathname;(0,e.default)({pagePathname:n,events:t.default,currentResource:r});
},{"./javascript/modules/segment/start_tracking.es6":"UwUN","./javascript/modules/segment/segment_events.es6":"NpvE"}]},{},["Co2g"], null)